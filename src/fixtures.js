const nock = require('nock')
const baseUrl = 'http://ckan-dev:5000'

module.exports = function() {
  nock(baseUrl, {encodeQueryParams: true})
    .persist()
    .get(
      '/api/3/action/group_show?id=testId1&include_datasets=true',
    )
    .reply(200, {
      help: 'http://ckan-dev:5000/api/3/action/help_show?name=group_show',
      success: true,
      result: {
        users: [
          {
            email_hash: '7c512b13badc48258d94ef72d1c8889a',
            about: null,
            capacity: 'admin',
            name: 'ckan_admin',
            created: '2019-09-27T15:41:34.319177',
            sysadmin: true,
            activity_streams_email_notifications: false,
            state: 'active',
            number_of_edits: 17,
            display_name: 'ckan_admin',
            fullname: null,
            id: 'b84c10b6-44e2-44f4-822d-bc7848731bed',
            number_created_packages: 3,
          },
        ],
        display_name: 'Test collection 09-30 a',
        description: 'Test collection description',
        image_display_url: '',
        package_count: 0,
        created: '2019-09-30T18:53:06.857265',
        name: 'test_collection_0930_a',
        is_organization: false,
        state: 'active',
        extras: [
          {
            value: '',
            state: 'active',
            key: 'category',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: 'edf1d0c9-c548-4b1d-9026-65b692c105d3',
          },
          {
            value: 'paul@gmail.com',
            state: 'active',
            key: 'contactEmail',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: '473619a9-5e00-4515-b91c-c4ad3824f55c',
          },
          {
            value: 'Paul Walker',
            state: 'active',
            key: 'contactName',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: 'b01bd48c-2fe1-4ef5-8c99-f4b2861cdefb',
          },
          {
            value: 'state',
            state: 'active',
            key: 'dataLevel',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: 'b2157e0c-a7a1-4357-b043-a084352823fc',
          },
          {
            value: '',
            state: 'active',
            key: 'frequency',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: 'b1759907-ce80-4b94-84e0-4f3643415d94',
          },
          {
            value: '',
            state: 'active',
            key: 'homePage',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: '85d698f6-d011-4986-82b2-0d3a4f3274c1',
          },
          {
            value: '',
            state: 'active',
            key: 'master',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: '768ae602-78d5-45a0-9ce5-27ee1dfbb8b0',
          },
          {
            value: '',
            state: 'active',
            key: 'organization',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: '450e6191-084a-4482-8c07-dbcd9a3f7034',
          },
          {
            value: '',
            state: 'active',
            key: 'programCode',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: '253546eb-a811-4b46-b6e2-55ce65729e88',
          },
          {
            value: '',
            state: 'active',
            key: 'references',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: '4ae26eb7-5d93-4063-a1d8-df4daa4070b3',
          },
          {
            value: '',
            state: 'active',
            key: 'spatial',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: '93b51e90-6c6e-40ff-b687-5d95c1c88774',
          },
          {
            value: '',
            state: 'active',
            key: 'summary_dataset',
            revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
            group_id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
            id: 'e1df528b-d640-4ead-ba92-fb5f1e6583d2',
          },
        ],
        image_url: '',
        groups: [],
        type: 'collection',
        title: 'Test collection 09-30 a',
        revision_id: 'a93d44bd-cf43-4ea6-9d64-6d5c3ec4c95a',
        packages: [],
        num_followers: 0,
        id: 'c76012fd-89f6-4118-aa99-08f74d46fa57',
        tags: [],
        approval_status: 'approved',
      },
    })
}
